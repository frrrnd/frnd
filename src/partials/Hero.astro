---
// Hero.astro
import AnimatedBlob from '@components/AnimatedBlob.astro';
---

<div class="hero-container" data-name="hero">
  <!-- Background animado -->
  <AnimatedBlob />
  
  <!-- Conteúdo do Hero -->
  <div class="hero-content">
    <slot />
  </div>
</div>

<script>
  // Force height recalculation on load and resize
  function adjustHeroHeight() {
    const heroContainer = document.querySelector('[data-name="hero"]') as HTMLElement;
    if (heroContainer) {
      heroContainer.style.height = `${window.innerHeight}px`;
    }
  }

  // Apply on different events to ensure proper height
  window.addEventListener('load', adjustHeroHeight);
  window.addEventListener('resize', adjustHeroHeight);
  document.addEventListener('DOMContentLoaded', adjustHeroHeight);
  
  // Also apply immediately
  adjustHeroHeight();

  // Apply after a delay to catch any late renders
  setTimeout(adjustHeroHeight, 100);
</script>

<style>
  .hero-container {
    position: relative;
    width: 100%;
    height: 100vh; /* Altura da viewport */
    min-height: 100vh; /* Garante altura mínima */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @media screen and (max-width: 767px) {
    .hero-container {
      border-top-left-radius: 30px;
      border-top-right-radius: 30px;
    }
  }

  .hero-content {
    width: 100%;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10;
    display: flex;
    justify-content: space-between;
    flex-direction: column;

    h1, h2, h3 {
      font-family: var(--title-font);
    }

    h2 {
      span {
        font-family: var(--title-font-italic);
      }
    }
  }

  .hero-content > :global(*) {
    pointer-events: auto;
    color: white;
  }
</style>