---
import Layout from '../layouts/Layout.astro';
import SocialNav from '../components/SocialNav.astro';
import Footer from '../partials/Footer.astro';
// import LinkWithPreview from '../components/LinkImage/LinkImage.tsx';
import { getCollection } from 'astro:content';
import { SiteConfig } from '../utils/SiteConfig';
import PortfolioCard from '../components/PortfolioCard/PortfolioCard';

const works = await getCollection('works');
works.sort((a,b) => Date.parse(a.data.order) - Date.parse(b.data.order));
---

<Layout props={{ title: SiteConfig.title, description: SiteConfig.description, image: SiteConfig.image }}>
	<main class="main wrap" data-fade="0.4">
		<section class="content-section">
			<article class="content-article intro">
				<p><strong>Hey, I'm Fernando</strong><br> Software Designer.</p>

				

				<!-- <p>Working as a freelancer with ux/ui, icons, design systems and webflow development for startups and agencies. Running parallel projects like <a target="_blank" href="https://viewport-ui.design">Viewport UI.</a></p> -->

				<!-- <p>To check out some of my work, see my <LinkWithPreview client:load href="#recent-works" text="recent works" images={["/uploads/images/preview/preview-works.webp"]} /> and my <LinkWithPreview client:load href="/labs" text="experiments" images={["/uploads/images/preview/preview-labs.webp"]} />.</p> -->
				
			</article>
		</section>

		<section class="content-section">
			<article class="content-article">
				<p>Based in Florian√≥polis, Brazil. Currently working as a freelancer ux/ui designer and with webflow development. I enjoy think with code, sipping coffee, listen to fuzzy music and longboarding. CSS lover. Icon designer enthusiast. Driven by curiosity.</p>
			</article>
		</section>

		<section class="content-section explore">
			<article class="content-article">
				<h2>Explore</h2>
				<ul class="home-links">
					<li>
						<a href="/about">
							About
							<span>Who is Fernando?</span>
						</a>
					</li>

					<li>
						<a href="/works">
							Recent Works
							<span>Some recent works</span>
						</a>
					</li>

					<li>
						<a href="/labs">
							Labs
							<span>Prototypes and other design stuff</span>
						</a>
					</li>

					<li>
						<a href="/colophon">
							Colophon
							<span>About this website</span>
						</a>
					</li>

					<li>
						<a href="/notes">
							Notes
							<span>Some thoughts</span>
						</a>
					</li>

					<li>
						<a href="/readings">
							Readings
							<span>What I'm reading</span>
						</a>
					</li>
				</ul>
			</article>
		</section>

		<!-- <section class="content-section" id="recent-works">
			<article class="content-article works-home">
				<h2>Recent works</h2>
				{works.map((item, index) => (
					<PortfolioCard client:load key={index} src={item.data.cover.src} title={item.data.title} slug={item.slug} description={item.data.description} />
                ))}
			</article>
		</section> -->

		<section class="content-section">
			<article class="content-article">
				<SocialNav />
			</article>
		</section>

		<Footer />

	</main>
</Layout>
<style>
	.intro {
		padding-bottom: .5rem;
	}

	.home-links {
		padding-left: 0;

		a {
			width: 100%;
			display: block;
			padding: 1rem;
		}

		li {
			transition: .4s;
			border-radius: 10px;
			margin-bottom: 0;

			&:hover {
				transition: .4s;
				background-color: rgba(0,0,0,0.03);
			}
		}
		span {
			color: var(--title-color);
			display: block;
		}
	}

	.explore {
		padding: 4rem 0;
	}
</style>

<script>
	const anchorSmooth = () => {
		const links = document.querySelectorAll('a[href^="#"]');

		links.forEach(link => {
			link.addEventListener("click", (event) => {
			event.preventDefault();

			const targetId = link.getAttribute("href").substring(1);
			const targetElement = document.getElementById(targetId);

			if (targetElement) {
				window.scrollTo({
					top: targetElement.offsetTop,
					behavior: "smooth"
				});
			}
			});
		});
	}

	document.addEventListener("astro:after-swap", anchorSmooth);
</script>